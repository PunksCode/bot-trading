<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Bot Trading AI - RTX 2060</title>
    <style>
        body { background-color: #0b0e11; color: #eaecef; font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background-color: #1e2329; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); width: 350px; text-align: center; }
        h1 { color: #f0b90b; margin-bottom: 20px; } /* Amarillo Binance */
        .price { font-size: 24px; font-weight: bold; margin: 10px 0; }
        .prediction-box { background-color: #2b3139; padding: 15px; border-radius: 8px; margin-top: 20px; }
        .bullish { color: #0ecb81; font-weight: bold; } /* Verde Subida */
        .bearish { color: #f6465d; font-weight: bold; } /* Rojo Bajada */
        .loading { color: #848e9c; font-style: italic; }
        button { background-color: #f0b90b; border: none; padding: 10px 20px; border-radius: 4px; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; }
        button:hover { background-color: #d1a106; }
    </style>
</head>
<body>

    <div class="card">
        <h1>游뱄 AI TRADER BOT</h1>
        <p>BTC/USD (Tiempo Real)</p>
        <div id="result">
            <p class="loading">Consultando red neuronal...</p>
        </div>
        <button onclick="consultarIA()">Actualizar Predicci칩n</button>
    </div>

    <script>
        async function consultarIA() {
            const display = document.getElementById('result');
            display.innerHTML = '<p class="loading">Pensando (GPU)...</p>';
            
            try {
                // Llamamos a TU API de Django
                const response = await fetch('/api/predict/');
                const data = await response.json();

                if (data.error) {
                    display.innerHTML = `<p style="color:red">Error: ${data.error}</p>`;
                    return;
                }

                // Determinamos el color (Verde si sube, Rojo si baja)
                const colorClass = data.tendencia.includes("ALCISTA") ? "bullish" : "bearish";
                const arrow = data.tendencia.includes("ALCISTA") ? "游" : "游댵";

                // Dibujamos el resultado
                display.innerHTML = `
                    <div class="price">Actual: $${data.precio_actual}</div>
                    <div class="prediction-box">
                        <p>Predicci칩n 24h:</p>
                        <div class="price ${colorClass}">$${data.prediccion_ma침ana}</div>
                        <p class="${colorClass}">${data.tendencia} (${data.porcentaje}%)</p>
                    </div>
                `;
            } catch (error) {
                display.innerHTML = '<p style="color:red">Error de conexi칩n con el servidor.</p>';
            }
        }

        // Ejecutar al cargar la p치gina
        consultarIA();
    </script>

</body>
</html>